/**
 * 工程类库共用相关配置
 */

subprojects {
    //配置类库公用的配置
    if (it.name.startsWith('lib-')||(it.name.startsWith('lib_'))) {
        if (it.name.startsWith('lib-component-annotation')
                || it.name.startsWith('lib-component-compiler')) {
            return
        }
        apply plugin: 'com.android.library'

        android {
            compileSdkVersion build_versions.compile
            buildToolsVersion build_versions.build_tools

            defaultConfig {
                minSdkVersion build_versions.min_sdk
                targetSdkVersion build_versions.target_sdk
            }

            buildTypes {
                debug {
                }
            }
            buildTypes.all { type ->
                type.matchingFallbacks = ['debug']
                type.minifyEnabled = false
                type.proguardFiles = [getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro']
            }
            compileOptions {
                targetCompatibility build_versions.compile_jdk
                sourceCompatibility build_versions.compile_jdk
            }
            lintOptions {
                abortOnError false
            }
            packagingOptions {
                exclude 'META-INF/proguard/androidx-annotations.pro'
                exclude 'META-INF/androidx.core_core.version'
                exclude 'META-INF/androidx.versionedparcelable_versionedparcelable.version'
            }
        }
    }
}
