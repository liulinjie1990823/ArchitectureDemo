/**
 * 打包plugin到本地
 */
apply plugin: 'maven'
//com.github.dcendents.android-maven是依赖maven插件的，但是在最新的Android Gradle3.1.3
//中使用时，uploadArchives区块会导致编译失败
//apply plugin: 'com.github.dcendents.android-maven'

// load properties
Properties properties = new Properties()

File localPropertiesFile = project.file("local.properties")
if (localPropertiesFile.exists()) {
    properties.load(localPropertiesFile.newDataInputStream())
}
File projectPropertiesFile = project.file("project.properties")
if (projectPropertiesFile.exists()) {
    properties.load(projectPropertiesFile.newDataInputStream())
}

group = properties.getProperty("project.groupId")
version = properties.getProperty("project.versionName")

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri('../repo'))
        }
    }
}