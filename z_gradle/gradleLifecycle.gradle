//限制在跟目录导入

println("Custome Configure (gradleLifecycle.gradle)")

gradle.addBuildListener(new BuildListener() {

    void beforeSettings(Settings settings) {
        super.beforeSettings(settings)
        //这里是在settings.gradle文件中加的监听，已经迟了，所以这个方法不会监听到
        println("-----------------------------------------" + "beforeSettings" + "-----------------------------------------")
    }

    void settingsEvaluated(Settings settings) {
        //settings.gradle文件解析
        println("-----------------------------------------" + "settingsEvaluated" + "-----------------------------------------")
    }

    void projectsLoaded(Gradle gradle) {
        //所有工程加载完成
        println("-----------------------------------------" + "projectsLoaded" + "-----------------------------------------")
    }

    void projectsEvaluated(Gradle gradle) {
        //所有子工程都Evaluated完毕
        println("-----------------------------------------" + "projectsEvaluated" + "-----------------------------------------")
    }

    void buildStarted(Gradle gradle) {
        println("-----------------------------------------" + "buildStarted" + "-----------------------------------------")
    }

    void buildFinished(BuildResult result) {
        //任务结束调用
        println("-----------------------------------------" + "buildFinished" + "-----------------------------------------")
    }
})

gradle.addProjectEvaluationListener(new ProjectEvaluationListener() {
    void beforeEvaluate(Project project) {
        println("-----------------------------------------" + "beforeEvaluate:[" + project.name + "]-----------------------------------------")

    }

    void afterEvaluate(Project project, ProjectState state) {
        println("-----------------------------------------" + "afterEvaluate:[" + project.name + "]-----------------------------------------")

        if (project.name == rootProject.name) {
//            println("-----------------------------------------rootProject.ext begin----------------------------------------------------")
//            println(project.name + ".ext" + project.extensions.extraProperties.properties)
            println("-----------------------------------------rootProject.ext end------------------------------------------------------")
        }
    }
})